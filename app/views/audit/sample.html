<div ng-include src="'views/messages.html'"></div>
<div ng-include src="'views/audit/stepbar.html'"></div>

<h1>{{ setTitle( translate('HD_STEP3') ) }}</h1>

<p ng-bind-html="'INTRO_STEP3' | translateAndLink
: ['INTRO_STEP3_0', 'http://www.w3.org/TR/WCAG-EM/#step3']"></p>

<form>
  <h2>{{'HD_STRUCT_SAMPLE' | translate }}</h2>
  
  <h3><button-collapse target="rootHide" property="essentialFunctionality">
      {{ 'HD_ESSENT_FUNC' | translate }}
  </button-collapse></h3>
  <div class="alert alert-warning" collapse="rootHide.essentialFunctionality">
    <div ng-bind-html="exploreModel.essentialFunctionality | txtToHtml"></div>
    <em ng-if="!exploreModel.essentialFunctionality">
      {{ 'NO_TEXT_PROVIDED' | translate}}
    </em>
  </div>

  <h3><button-collapse target="rootHide" property="pageTypeVariety">
      {{ 'HD_VARIETY_PAGE_TYPES' | translate }}
  </button-collapse></h3>
  <div class="alert alert-warning" collapse="rootHide.pageTypeVariety">
    <div ng-bind-html="exploreModel.pageTypeVariety | txtToHtml"></div>
    <em ng-if="!exploreModel.pageTypeVariety" >
      {{ 'NO_TEXT_PROVIDED' | translate}}
    </em>
  </div>

  <h3>{{ 'HD_STRUCT_SAMPLE_SUB' | translate }}&nbsp;<info-button
  label="{{'LABEL_INFO' | translate}}" target="inf_str_sample"></info-button></h3>

  <info-field ref="inf_str_sample" button="{{'LABEL_CLOSE_INFO' | translate}}">
    <p ng-bind-html="'INF_STRUCT_SAMPLE' | translateAndLink
    : ['INF_STRUCT_SAMPLE_0', 'http://www.w3.org/TR/WCAG-EM/#step3a']
    : ['INF_STRUCT_SAMPLE_1', 'http://www.w3.org/TR/WCAG-EM/#states']"></p>
  </info-field>

  <input-pages pages="structuredSample.webpage" add-page="getPageAdder(structuredSample)"
  remove-page="getPageRemover(structuredSample)"></input-pages>

  <h2>
    {{'HD_RANDOM_SAMPLE' | translate }}&nbsp;<info-button
    label="{{'LABEL_INFO' | translate}}" target="inf_rand_sample"></info-button>
  </h2>
  
  <info-field ref="inf_rand_sample" button="{{'LABEL_CLOSE_INFO' | translate}}">
    <p ng-bind-html="'INF_RAND_SAMPLE' | translateAndLink
    : ['INF_RAND_SAMPLE_0', 'http://www.w3.org/TR/WCAG-EM/#step3b']
    : ['INF_RAND_SAMPLE_1', 'http://www.w3.org/TR/WCAG-EM/#states']"></p>
  </info-field>

  <div class="alert alert-warning">
    {{ "RAND_SAMPLE_LENGTH" | translate | format
          : structuredSample.webpage.length
          : randPageCount() }}
  </div>

  <input-pages pages="randomSample.webpage"
  add-page="getPageAdder(randomSample)"
  remove-page="getPageRemover(randomSample)"></input-pages>

</form>


<nav ng-include src="'views/step-buttons.html'"></nav>