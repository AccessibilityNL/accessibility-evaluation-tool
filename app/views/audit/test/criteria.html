<h2>
  {{ 'HD_CRITERIA' | translate }}
  <info-button label="{{'LABEL_INFO' | translate}}"
        target="inf_audit_criteria"></info-button>
</h2>
<info-field ref="inf_audit_criteria" exitto=""
            button="{{'LABEL_CLOSE_INFO' | translate}}">
  {{ 'INF_AUDIT_SAMPLE' | translate }}
</info-field>

<div ng-repeat="p in principles">
  <h3><a href="" ng-click="p.showGuideline = !p.showGuideline">
      Principle {{p.number}} {{p.title}}
      <span ng-if="p.showGuideline"
      class="glyphicon glyphicon-chevron-left pull-right">
        <span class="sr-only">Click to expand</span>
      </span>
      <span ng-if="!p.showGuideline"
      class="glyphicon glyphicon-chevron-down pull-right">
        <span class="sr-only">Click to collapse</span>
      </span>
  </a></h3>
  
  <div ng-repeat="g in p.guidelines" collapse="p.showGuideline">
  <h4><a href="" ng-click="g.showCritera = !g.showCritera">
      {{g.number}} {{g.title}}

      <span ng-if="g.showCritera"
      class="glyphicon glyphicon-chevron-left pull-right">
        <span class="sr-only">
          {{ 'CLICK_EXPAND' | translate }</span>
      </span>
      <span ng-if="!g.showCritera"
      class="glyphicon glyphicon-chevron-down pull-right">
        <span class="sr-only">
          {{ 'CLICK_COLLAPSE' | translate }</span>
      </span>
  </a></h4>

  <success-criterion 
       ng-repeat="critSpec in g.criteria"
       ng-if="crit = getCritAssert(critSpec.uri)"
       collapse="g.showCritera"
       ng-init="opt = {editable: true, 
                 collapsed: true,
                 showallpages: true}"
       options="opt"
       assert="crit"></success-criterion>
  </div>
</div>
